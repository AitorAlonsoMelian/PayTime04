<!-- Hecho por el grupo 04 - Aitor Alonso, Jesus Chamizo, Eduardo Da Silva -->
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PayTime04 - Registrate</title>
    <link rel="icon" type="image" href="./img/cerdotiempo.jpg">

    <!--Import Google Icon Font-->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!--Import materialize.css-->
    <link type="text/css" rel="stylesheet" href="materialize/css/materialize.min.css" media="screen,projection" />
    <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link href="css/style.css" type="text/css" rel="stylesheet" media="screen,projection" />
    <link type="text/css" rel="stylesheet" href="css/stilo.css" />
    <link type="text/javascript" href="firebase.js" />


</head>
<body>
    <div class="navbar-fixed">
        <nav class="white" role="navigation">
            <div class="nav-wrapper">
                <img class="hide-on-med-and-down" src="./img/cerditiempo.png" height="60" width="90" />
                <a id="logo-container" href="index.html" class="brand-logo center" role="banner">PAYTIME04</a>
                <ul class="right hide-on-med-and-down">
                    <li><a href="index.html">Inicio</a></li>
                    <li>
                        <a href="register.html" class="btn boton black-text" aria-label="Registrarse" >
                            <b>Registrarse</b>
                        </a>
                    </li>
                    <li>
                        <a href="profile.html" class="dropdown-trigger" data-target="dropdown1" tabindex="0" aria-label="Perfil Desplegable">
                            <img src="img/profile.png" width="64" />
                        </a>
                    </li>

                </ul>

                <ul id="nav-mobile" class="sidenav">
                    <li><a href="index.html" tabindex="-1">Inicio</a></li>
                    <li>
                        <a href="register.html" class="btn boton black-text" tabindex="-1" aria-label="Registrarse">
                            <b>Registrarse</b>
                        </a>
                    </li>
                    <li>
                        <a href="profile.html" class="dropdown-trigger" data-target="dropdown2" tabindex="-1">
                            <img src="img/profile.png" width="48" />
                        </a>
                    </li>

                </ul>
                <a href="#" data-target="nav-mobile" class="sidenav-trigger"><i class="material-icons">menu</i></a>
            </div>
        </nav>
    </div>

    <!-- Dropdown Structure -->
    <ul id='dropdown1' class='dropdown-content'>
        <li aria-label="Mi Perfil"><a href="profile.html">Mi Perfil</a></li>
        <li aria-label="Mis contactos"><a href="Contacto.html">Mis Contactos</a></li>
        <li aria-label="Mis tareas"><a href="Tareas.html">Mis Tareas</a></li>
    </ul>

    <ul id='dropdown2' class='dropdown-content'>
        <li><a href="profile.html">Mi Perfil</a></li>
        <li><a href="Contacto.html">Mis Contactos</a></li>
        <li><a href="Tareas.html">Mis Tareas</a></li>
    </ul>




    <nav>
        <div class="nav-wrapper cyan darken-3 row">
            <div class="col s11 offset-s1">
                <a href="index.html" class="breadcrumb negro">Inicio</a>
                <a href="register.html" class="breadcrumb negro">Registro</a>

            </div>
        </div>
    </nav>
    <h4 class="header center" tabindex="0">Cuando por fin el tiempo es oro</h4>

    <div class="container" role="main form">
        <h3 id="contacto" class="center" tabindex="0">Registrate ahora</h3>
        <div class="row">
            <form class="col s12" id="formulario">
                <div class="row">
                    <div class="input-field col s12 l4 offset-l4">
                        <input placeholder="Nombre" id="first_name" type="text" class="validate" required>
                    </div>
                </div>
                <div class="row">
                    <div class="input-field col s12 l4 offset-l4">
                        <input placeholder="Email" id="signup_email" type="email" class="validate" required>
                    </div>
                </div>

                <div class="row">
                    <div class="input-field col s12 l4 offset-l4">
                        <input placeholder="Contraseña" id="signup_password" type="password" class="validate" required>
                    </div>

                </div>
                <div class="row">
                    <div class="input-field col s12 l4 offset-l4">
                        <input placeholder="Repite contraseña" id="signup_sec_password" type="password" class="validate" required>
                    </div>

                </div>

                <div class="row">
                    <div class="col s12 l4 offset-l4">
                        <label>
                            <input id="checkterms" type="checkbox" />
                            <span class="black-text">Acepto almacenar mi informacion en PAYTIME04</span>
                        </label>
                    </div>
                </div>



                <div class="row">
                    <div class="col s4 offset-s4">
                        <button class="btn waves-effect waves-light black-text" type="submit" name="action">
                            Enviar
                            <i class="material-icons right">send</i>
                        </button>
                    </div>
                </div>

            </form>
        </div>
    </div>

    <footer class="page-footer" role="contentinfo">
        <div class="container">
            <div class="row">
                <div class="col l6 s12">
                    <p class="black-text text-lighten-4" tabindex="0">PAYTIME04 es una app ficticia desarrollada para la asignatura de Usabilidad y Accesibilidad. Ninguna información aquí presente es real.</p>
                </div>
                <div class="col l3 offset-l3 s12">
                    <h5 class="black-text" tabindex="0">Enlaces de interes</h5>
                    <ul>
                        <li><a class="black-text text-lighten-3" href="https://forms.gle/V6RdK1zUqHq9RJoZA">Cuestionario de evaluacion de la web</a></li>
                        <li><a class="black-text text-lighten-3" href="https://play.google.com/store">Descarga la APP en Android</a></li>
                    </ul>
                </div>
            </div>
        </div>
        <div class="footer-copyright">
            <div class="container">
                © Grupo 04 de Usabilidad y Accesibilidad 19/20
            </div>
        </div>
    </footer>

    <!-- The core Firebase JS SDK is always required and must be listed first -->
    <script src="https://www.gstatic.com/firebasejs/7.14.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.14.0/firebase-database.js"></script>
    <script>
        var firebaseConfig = {
            apiKey: "AIzaSyAtfYfIYDw7XQ4qOIdnemqpWiozSZH7DUY",
            authDomain: "paytime04-uya.firebaseapp.com",
            databaseURL: "https://paytime04-uya.firebaseio.com",
            projectId: "paytime04-uya",
            storageBucket: "paytime04-uya.appspot.com",
            messagingSenderId: "977120654255",
            appId: "1:977120654255:web:8aa6d4fa509def8717355a"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();



        const signupForm = document.querySelector('#formulario');
        signupForm.addEventListener('submit', (e) => {
            e.preventDefault();

            const name = signupForm['first_name'].value;
            const email = signupForm['signup_email'].value;
            const password = signupForm['signup_password'].value;
            const password2 = signupForm['signup_sec_password'].value;
            const terms = signupForm['checkterms'].value;

            if ((password == password2) && (terms)) {
                // Registrar a los usuarios con los datos obtenidos
                var referencia = database.ref(name);
                //Escribir un documento
                referencia.set({
                    usuario: name,
                    correo: email,
                    contraseña: password
                });
                window.alert("Se ha creado su usuario correctamente");
            }
            else {
                if (password != password2) {
                    window.alert("Las contraseñas no coinciden");
                } else {
                    window.alert("Acepte los terminos de nuestra web.");
                }
            }

        });


    </script>

    <script src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    <script src="js/materialize.js"></script>
    <script src="js/init.js"></script>
    <script>
        $('.dropdown-trigger').dropdown();
    </script>
</body>
  
</html>
